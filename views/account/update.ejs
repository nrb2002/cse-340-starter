<!-- Page Title -->
  <h1><%= title || "Update Account" %></h1>

  <!-- Flash message -->
  <% if (messages && messages.length > 0) { %>
    <div class="flash-message">
      <% messages.forEach(function(message){ %>
        <p><%= message %></p>
      <% }) %>
    </div>
  <% } %>

  <!-- Error messages -->
  <% if (errors && errors.array && errors.array().length > 0) { %>
    <ul class="error-list">
      <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <section class="form-section">
    <!-- ACCOUNT UPDATE FORM -->
    <form action="/account/update-account" method="post" class="update-form">
      <h2>Account Information</h2>

      <div class="form-group">
        <label for="account_firstname">First Name</label>
        <input type="text" id="account_firstname" name="account_firstname" 
               value="<%= accountData.account_firstname %>" required>
      </div>

      <div class="form-group">
        <label for="account_lastname">Last Name</label>
        <input type="text" id="account_lastname" name="account_lastname" 
               value="<%= accountData.account_lastname %>" required>
      </div>

      <div class="form-group">
        <label for="account_email">Username</label>
        <input type="email" id="account_email" name="account_email" 
               value="<%= accountData.account_email %>" required>
      </div>

      <!-- hidden field for ID -->
      <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

      <button type="submit" class="btn-primary">Update Account</button>
    </form>
    <br>
    <hr>
    <br>

    <!-- PASSWORD CHANGE FORM -->
    <form action="/account/update-password" method="post" class="update-form">
      <h2>Change Password</h2>

      <div class="form-group">
        <label for="account_password">New Password</label>
        <input type="password" id="accountPassword" name="account_password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" placeholder="Enter your password" minlength=12 aria-describedby="password-note" value="<%= typeof account_password !== 'undefined' ? account_password : '' %>" required>
        <!-- The regular expression pattern indicates that there must be at least 12 characters, one must be a number, one must be a lowercase letter, one must be a capital letter, and one must be a non-alphanumeric character. -->
        <small id="password-note" class="password-note">
          <i>Must be at least 12 characters long and contain one uppercase letter, one number, and one special character.</i>
        </small>
      </div>

      <div class="form-group">
        <label for="account_password_confirm">Confirm Password</label>
        <input type="password" id="account_password_confirm" 
               name="account_password_confirm" placeholder="Confirm new password" required>
      </div>

      <!-- hidden field for ID -->
      <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

      <button type="submit" class="btn-secondary">Change Password</button>
    </form>
  </section>