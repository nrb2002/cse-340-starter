<!-- EJS code block to contain a JavaScript if structure to determine if a "title" variable exists. If the variable exists, displays within an <h1> element.
-->
<% if (title) { %>
    <h1>
        <%= title || "Login" %>
    </h1>
<% } %>


<!-- Flash message (if any) -->
<% if (messages && messages.length> 0) { %>
    <div class="flash-message">
        <% messages.forEach(function(message){ %>
            <p>
                <%= message %>
            </p><br>
            <% }) %>
    </div>
<% } %>

<!-- Errors to display, if any -->
<!-- If there are errors, create an unordered list with a class for styling. -->
<% if (errors && errors.array && errors.array().length> 0) { %>
    <ul class="notice">
        <% errors.array().forEach(error=> { %>
            <li>
                <%= error.msg %>
            </li>
            <% }) %>
    </ul>
<% } %>

<!-- Login form -->
    <section class="form-container">
    <h2>Sign in to your account</h2>
    <form id="loginForm" class="login-form"action="/account/login" method="post" >
        <fieldset>
            <legend>User Info</legend>
            <div class="form-group">
                <label>Email Address
                    <input type="email" id="email" name="account_email" placeholder="username@domain.com" required>
                </label>
            </div>
        
            <div class="form-group">
                <label>Password
                    <input type="password" id="accountPassword" name="account_password"
                        pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" placeholder="Enter your password"
                        minlength=12 aria-describedby="password-note"
                        value="<%= typeof account_password !== 'undefined' ? account_password : '' %>" required>
                    <!-- The regular expression pattern indicates that there must be at least 12 characters, one must be a number, one must be a lowercase letter, one must be a capital letter, and one must be a non-alphanumeric character. -->
                    <button type="button" tabindex="-1" class="togglePassword" aria-label="Toggle password visibility">üëÅ</button>
                </label>
            </div>
            
        
            <button type="submit" class="btn">Access My Account</button>
        </fieldset>
    </form>

    <!-- Registration link -->
    <p class="form-footer">
        Don‚Äôt have an account?
        <a href="/account/register">Register here</a>.
    </p>
</section>
    
    